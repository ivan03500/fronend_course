(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[400],{96921:function(e,t,n){"use strict";n.d(t,{AP:function(){return a},p$:function(){return s}});var r=(0,n(89631).oM)({name:"message",initialState:{open:!1,title:""},reducers:{toggleMessage:function(e){e.open=!e.open},setTitleMessage:function(e,t){e.title=t.payload}}});t.ZP=r.reducer;var u=r.actions,a=u.toggleMessage,s=u.setTitleMessage},87612:function(e,t,n){"use strict";n.d(t,{zV:function(){return m},hO:function(){return y},rk:function(){return h},q_:function(){return I},_C:function(){return C},Q8:function(){return k},DZ:function(){return j},nY:function(){return x},gN:function(){return O},Dc:function(){return _},Ig:function(){return w},aJ:function(){return S},$9:function(){return D},ln:function(){return L},M$:function(){return W},Jj:function(){return F},uD:function(){return V},Wx:function(){return A},q:function(){return E},SO:function(){return q},Rm:function(){return N}});var r=n(98502),u=n(86420),a=n(88742),s=n.n(a),i=n(67105),o=n(40505),c=n(6735),l=n(89631),d=n(44751),f=n(60312),g=n(30138);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P=(0,l.hg)("musicsets/getMusicsetsInfo",function(){var e=(0,o.Z)(s().mark((function e(t,n){var r,u,a,i,o,l,d,f,g;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.list,t.url,u=n.rejectWithValue,a=n.getState,e.prev=2,!r||!r.length){e.next=12;break}return o=null===(i=a().musicsets)||void 0===i?void 0:i.info,l=Object.keys(o),d=r.filter((function(e){return-1===l.findIndex((function(t){return t===e}))})),e.next=9,c.Z.getMusicsetsInfo(d);case 9:return f=e.sent,g=f.data,e.abrupt("return",v({},g));case 12:return e.abrupt("return",{});case 15:return e.prev=15,e.t0=e.catch(2),e.abrupt("return",u(e.t0));case 18:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(t,n){return e.apply(this,arguments)}}()),m=(0,l.hg)("musicsets/getMusicsetsListPage",function(){var e=(0,o.Z)(s().mark((function e(t,n){var r,u,a,i,o,l,f,g,p;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.limit,u=void 0===r?10:r,a=t.typeId,i=void 0===a?"all":a,o=n.rejectWithValue,l=n.dispatch,e.prev=2,e.next=5,c.Z.getMusicsetsListPage(+u,1,i);case 5:return g=e.sent,null!==(p=g.data)&&void 0!==p&&null!==(f=p.onPage)&&void 0!==f&&f.list&&l((0,d.WY)(p.onPage.list.map((function(e){return"musicset_".concat(e)})))),e.abrupt("return",v(v({},p),{},{url:"category_".concat(i)}));case 11:return e.prev=11,e.t0=e.catch(2),e.abrupt("return",o(e.t0));case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t,n){return e.apply(this,arguments)}}()),y=(0,l.hg)("musicsets/getMusicsetsItemPage",function(){var e=(0,o.Z)(s().mark((function e(t,n){var r,a,o,l,f,g,p,P,m,y,h,M;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.limit,a=void 0===r?10:r,o=t.typeId,l=void 0===o?"":o,f=n.rejectWithValue,g=n.dispatch,e.prev=2,p="musicset_".concat(l),g((0,d.MI)({playlist:p,status:{isLoading:!0,limit:a}})),e.next=7,c.Z.getMusicsetsItemPage(a,l);case 7:return P=e.sent,m=P.data,y=m.tracks,h=y.tracksInfo,M=y.trackIds,g((0,d.Pq)({musicsetItem:p})),g((0,d.hx)((0,i.Z)({},p,M))),g((0,d.As)(h)),null!==m&&void 0!==m&&m.musicsets.onPage.list&&g((0,d.WY)([p].concat((0,u.Z)(m.musicsets.onPage.list.map((function(e){return"musicset_".concat(e)})))))),g(g((0,d.MI)({playlist:p,status:{page:1,pagesCount:1,limit:a,isLoading:!1}}))),e.abrupt("return",v(v({},m.musicsets),{},{url:"random_".concat(l)}));case 18:return e.prev=18,e.t0=e.catch(2),e.abrupt("return",f(e.t0));case 21:case"end":return e.stop()}}),e,null,[[2,18]])})));return function(t,n){return e.apply(this,arguments)}}()),h=(0,l.hg)("musicsets/updateMusicsetsForPage",function(){var e=(0,o.Z)(s().mark((function e(t,n){var r,u,a,i,o,l,d,f,g,p,m,y,h;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.url,u=void 0===r?"category_all":r,a=n.rejectWithValue,i=n.getState,o=n.dispatch,e.prev=2,d=null===(l=i().musicsets)||void 0===l?void 0:l.onPage[u],f=d.page,g=d.type,p=d.typeId,m=d.limit,e.next=6,c.Z.getMusicsetsListForPage(g,m,f+1,p);case 6:return y=e.sent,h=y.data,o(P({list:h.list,url:u})),e.abrupt("return",v(v({},h),{},{url:u}));case 12:return e.prev=12,e.t0=e.catch(2),e.abrupt("return",a(e.t0));case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t,n){return e.apply(this,arguments)}}()),M=(0,l.hg)("musicsets/getMusicsetsCategories",function(){var e=(0,o.Z)(s().mark((function e(t,n){var r,u,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.rejectWithValue,e.prev=1,e.next=4,c.Z.getMusicsetSortList();case 4:return u=e.sent,a=u.data,e.abrupt("return",a);case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",r(e.t0));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}()),Z=(0,l.oM)({name:"musicsets",initialState:{info:{},currentMusicset:"",onPage:{category_all:{type:"",pagesCount:0,typeId:"",list:[],page:0,limit:10,categoryDescription:"",status:{succeeded:!1,pending:!0,failed:!1},error:null}},status:{succeeded:!1,pending:!1,failed:!1},error:null,categoriesMusicset:[]},reducers:{setMusicsetsOnPage:function(e,t){var n=t.payload,u=n.url,a=(0,r.Z)(n,["url"]);e.onPage[u]=v(v({},e.onPage[u]),a)},updateMusicsetsInfo:function(e,t){var n=t.payload;e.info=v(v({},e.info),n)},setMusicsetStatus:function(e,t){var n,r=t.payload,u=r.url,a=r.status;return v(v({},e),{},{onPage:v(v({},e.onPage),{},(0,i.Z)({},u,v(v({},e.onPage[u]),{},{status:v(v({},null===(n=e.onPage[u])||void 0===n?void 0:n.status),a)})))})},setMusicsetsFromPage:function(e,t){var n=t.payload,r=n.url,u=void 0===r?"category_all":r,a=n.info,s=n.onPage;return v(v({},e),{},{onPage:v(v({},e.onPage),{},(0,i.Z)({},u,v(v(v({},e.onPage[u]),s),{},{list:(null===s||void 0===s?void 0:s.list)||[],status:v(v({},{succeeded:!0,pending:!1,failed:!1}),null===s||void 0===s?void 0:s.status),error:null}))),info:v(v({},e.info),a)})},setCurrentMusicset:function(e,t){var n=t.payload;e.currentMusicset=n}},extraReducers:function(e){e.addCase(m.fulfilled,(function(e,t){var n=t.payload;return v(v({},e),{},{info:v(v({},e.info),n.info),onPage:v(v({},e.onPage),{},(0,i.Z)({},n.url,v(v(v({},e.onPage[n.url]),n.onPage),{},{status:{failed:!1,pending:!1,succeeded:!0},error:null})))})})).addCase(m.pending,(function(e,t){var n=t.meta.arg,r="category_".concat(n.typeId);return v(v({},e),{},{onPage:v(v({},e.onPage),{},(0,i.Z)({},r,v(v({},e.onPage[r]),{},{status:{failed:!1,pending:!0,succeeded:!1}})))})})).addCase(m.rejected,(function(e,t){var n,r=t.payload,u=t.meta.arg,a="category_".concat(u.typeId);return v(v({},e),{},{onPage:v(v({},e.onPage),{},(0,i.Z)({},a,v(v({},e.onPage[a]),{},{status:{succeeded:!1,pending:!1,failed:!0},error:null===r||void 0===r||null===(n=r.response)||void 0===n?void 0:n.data})))})})).addCase(y.fulfilled,(function(e,t){var n=t.payload;return v(v({},e),{},{info:v(v({},e.info),n.info),currentMusicset:n.url.split("_")[1],onPage:v(v({},e.onPage),{},(0,i.Z)({},n.url,v(v(v({},e.onPage[n.url]),n.onPage),{},{status:{failed:!1,pending:!1,succeeded:!0},error:null})))})})).addCase(y.pending,(function(e,t){var n=t.meta.arg,r="random_".concat(n.typeId);return v(v({},e),{},{onPage:v(v({},e.onPage),{},(0,i.Z)({},r,v(v({},e.onPage[r]),{},{status:{failed:!1,pending:!0,succeeded:!1}})))})})).addCase(y.rejected,(function(e,t){var n,r=t.payload,u=t.meta.arg,a="random_".concat(u.typeId);return v(v({},e),{},{onPage:v(v({},e.onPage),{},(0,i.Z)({},a,v(v({},e.onPage[a]),{},{status:{succeeded:!1,pending:!1,failed:!0},error:null===r||void 0===r||null===(n=r.response)||void 0===n?void 0:n.data})))})})).addCase(h.fulfilled,(function(e,t){var n=t.payload;return v(v({},e),{},{onPage:v(v({},e.onPage),{},(0,i.Z)({},n.url,v(v(v({},e.onPage[n.url]),n),{},{list:[].concat((0,u.Z)(e.onPage[n.url].list),(0,u.Z)(n.list||[])),error:null})))})})).addCase(h.pending,(function(e,t){var n=t.meta.arg;return v(v({},e),{},{onPage:v(v({},e.onPage),{},(0,i.Z)({},n.url,v(v({},e.onPage[n.url]),{},{status:{failed:!1,pending:!0,succeeded:!1},error:null})))})})).addCase(h.rejected,(function(e,t){var n,r=t.payload,u=t.meta.arg;return v(v({},e),{},{onPage:v(v({},e.onPage),{},(0,i.Z)({},u.url,v(v({},e.onPage[u.url]),{},{status:{succeeded:!1,pending:!1,failed:!0},error:null===r||void 0===r||null===(n=r.response)||void 0===n?void 0:n.data})))})})).addCase(M.fulfilled,(function(e,t){var n=t.payload;return v(v({},e),{},{categoriesMusicset:(0,u.Z)(n),status:v(v({},e.status),{},{pending:!1,succeeded:!0})})})).addCase(M.pending,(function(e){return v(v({},e),{},{status:v(v({},e.status),{},{succeeded:!1,pending:!0})})})).addCase(M.rejected,(function(e,t){var n,r=t.payload;return v(v({},e),{},{status:{succeeded:!1,pending:!1,failed:!0},error:null===r||void 0===r||null===(n=r.response)||void 0===n?void 0:n.data})})).addCase(P.fulfilled,(function(e,t){var n=t.payload,r=t.meta.arg.url;return v(v({},e),{},{info:v(v({},e.info),n),onPage:v(v({},e.onPage),{},(0,i.Z)({},r,v(v({},e.onPage[r]),{},{status:v(v({},e.status),{},{pending:!1,succeeded:!0}),error:null})))})})).addCase(P.pending,(function(e,t){var n=t.meta.arg.url;return v(v({},e),{},{onPage:v(v({},e.onPage),{},(0,i.Z)({},n,v(v({},e.onPage[n]),{},{status:{succeeded:!1,pending:!0,failed:!1},error:null})))})})).addCase(P.rejected,(function(e,t){var n,r=t.payload,u=t.meta.arg.url;return v(v({},e),{},{onPage:v(v({},e.onPage),{},(0,i.Z)({},u,v(v({},e.onPage[u]),{},{status:{succeeded:!1,pending:!1,failed:!0},error:null===r||void 0===r||null===(n=r.response)||void 0===n?void 0:n.data})))})}))}});t.ZP=Z.reducer;var b=Z.actions,I=b.setMusicsetsOnPage,C=b.updateMusicsetsInfo,k=b.setMusicsetsFromPage,j=b.setCurrentMusicset,x=(b.setMusicsetStatus,function(e){return function(t){var n;return null===(n=t.musicsets.onPage[e])||void 0===n?void 0:n.type}}),O=function(e){return function(t){var n;return null===(n=t.musicsets.onPage[e])||void 0===n?void 0:n.categoryDescription}},_=function(e){return function(t){var n;return null===(n=t.musicsets.onPage[e])||void 0===n?void 0:n.typeId}},w=function(e){return function(t){var n;return null===(n=t.musicsets.onPage[e])||void 0===n?void 0:n.pagesCount}},S=function(e){return function(t){var n;return null===(n=t.musicsets.onPage[e])||void 0===n?void 0:n.limit}},D=function(e){return function(t){var n;return null===(n=t.musicsets.onPage[e])||void 0===n?void 0:n.page}},L=function(e){return function(t){var n;return(null===(n=t.musicsets.onPage[e])||void 0===n?void 0:n.list)||[]}},W=function(e){return function(t){return t.musicsets.info[e]||{}}},F=function(e){return e.musicsets.info||{}},V=function(e){var t;return(null===(t=e.musicsets.categoriesMusicset)||void 0===t?void 0:t.filter((function(e){return e.visible})))||[]},A=function(e){return function(t){var n;return(null===(n=t.musicsets.onPage[e])||void 0===n?void 0:n.status)||{}}},E=function(e,t){return function(n){var r;return n.musicsets.categoriesMusicset[void 0!==e&&"random"===(null===(r=n.musicsets.onPage[t])||void 0===r?void 0:r.type)?n.musicsets.categoriesMusicset.findIndex((function(t){return t.typeId===e})):0]}},q=function(e){return function(){var t=(0,o.Z)(s().mark((function t(n,r){var u,a,o,l,p,v,P,m,y,h,M;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,a="musicset_".concat(e),n((0,d.MI)({playlist:a,status:{isLoading:!0,page:1}})),(o=null===(u=r().playlist)||void 0===u?void 0:u.trackIds[a])&&o.length){t.next=14;break}return t.next=7,c.Z.getTracklistMusicsetByUrl(e);case 7:return l=t.sent,p=l.data,v=p.trackIds,P=p.tracksInfo,n((0,d.hx)((0,i.Z)({},a,v))),n((0,d.As)(P)),t.next=14,n((0,d.K9)());case 14:(m=(0,d.Fl)(a,r()))>-1&&(y=r().playlist.info[m],h=y.checked,M=y.streaming,n((0,f.g0)(m,h,M,a)),n((0,d.Ce)(a)),n(j(e))),n((0,d.MI)({playlist:a,status:{isLoading:!1,page:1,pagesCount:1}})),t.next=22;break;case 19:t.prev=19,t.t0=t.catch(0),g.log("error",t.t0);case 22:case"end":return t.stop()}}),t,null,[[0,19]])})));return function(e,n){return t.apply(this,arguments)}}()},N=function(e){var t=e.musicsets.currentMusicset;return function(t){for(var n=0;n<(null===t||void 0===t?void 0:t.length);n++){var r,u;if(null!==(r=e.playlist)&&void 0!==r&&null!==(u=r.info[t[n]])&&void 0!==u&&u.isArtistForeignAgent)return!0}return!1}(e.playlist.trackIds["musicset_".concat(t)])}}}]);