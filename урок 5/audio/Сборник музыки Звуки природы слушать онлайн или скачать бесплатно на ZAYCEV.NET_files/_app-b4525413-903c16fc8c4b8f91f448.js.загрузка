(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[272],{27092:function(e,t,n){"use strict";n.d(t,{xN:function(){return m},Rp:function(){return b},M3:function(){return y},tm:function(){return k},JZ:function(){return P},a$:function(){return C},x1:function(){return O},kL:function(){return S},Ok:function(){return T},hB:function(){return I},Ar:function(){return j},u5:function(){return x},hv:function(){return M}});var r=n(88742),a=n.n(r),o=n(86420),u=n(67105),i=n(40505),c=n(60229),l=n(87612),s=n(89631),d=n(6735),p=n(60312),g=n(44751),f=n(57231);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=(0,s.hg)("genres/getGenresPage",function(){var e=(0,i.Z)(a().mark((function e(t,n){var r,u,i,c,s,p,f,v,m;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.req,u=t.res,i=n.rejectWithValue,c=n.dispatch,e.prev=2,c((0,l.Q8)({onPage:{type:"category",typeId:"zhanry",page:1,pagesCount:1,list:[],limit:10,status:{succeeded:!1,failed:!1,pending:!0},error:null},url:"category_zhanry"})),f=d.s.create(r,u),e.next=7,f.getGenresPage();case 7:return v=e.sent,null!==(m=v.data)&&void 0!==m&&null!==(s=m.musicsets)&&void 0!==s&&null!==(p=s.onPage)&&void 0!==p&&p.list&&(c((0,l.q_)(h(h({},null===m||void 0===m?void 0:m.musicsets.onPage),{},{url:"category_zhanry"}))),c((0,l._C)(null===m||void 0===m?void 0:m.musicsets.info)),c((0,g.WY)((0,o.Z)(m.musicsets.onPage.list.map((function(e){return"musicset_".concat(e)})))))),e.abrupt("return");case 13:return e.prev=13,e.t0=e.catch(2),e.abrupt("return",i(e.t0));case 16:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t,n){return e.apply(this,arguments)}}()),b=(0,s.hg)("genres/getGenrePageItemInfo",function(){var e=(0,i.Z)(a().mark((function e(t,n){var r,i,c,s,p,v,m,b,y,k,w,P,C,O,S,T,I,j,x,M;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.url,i=t.trackLimit,c=t.artistLimit,s=t.musicsetLimit,p=t.sort,v=t.req,m=t.res,b=n.rejectWithValue,y=n.dispatch,k=n.getState,e.prev=2,O="genres_".concat(r,"-").concat(p),y((0,g.MI)({playlist:O,status:{isLoading:!0,limit:i}})),y((0,l.Q8)({onPage:{type:"genre",typeId:r,page:1,pagesCount:1,list:[],limit:s||10,status:{succeeded:!1,failed:!1,pending:!0},error:null},url:"genre_".concat(r)})),S=d.s.create(v,m),e.next=9,S.getGenreItemInfo(r,i,c,s,p);case 9:return T=e.sent,null!==(I=T.data)&&void 0!==I&&null!==(w=I.musicsets)&&void 0!==w&&null!==(P=w.onPage)&&void 0!==P&&P.list&&(y((0,l.q_)(h(h({},null===I||void 0===I?void 0:I.musicsets.onPage),{},{url:"genre_".concat(r)}))),y((0,l._C)(null===I||void 0===I?void 0:I.musicsets.info)),y((0,g.WY)([O].concat((0,o.Z)(I.musicsets.onPage.list.map((function(e){return"musicset_".concat(e)}))))))),j=k(),x=j.playlist.trackIds,y((0,f.H7)({page:"genres",activeType:p})),null!==(C=I.tracks)&&void 0!==C&&C.list&&!x[O]?(y((0,g.hx)((0,u.Z)({},O,null===(M=I.tracks)||void 0===M?void 0:M.list))),y((0,g.As)(I.tracks.info)),y(y((0,g.MI)({playlist:O,status:{page:I.tracks.page,pagesCount:I.tracks.pagesCount,limit:i,isLoading:!1}})))):y((0,g.MI)({playlist:O,status:{isLoading:!1,limit:i}})),e.abrupt("return",I);case 18:return e.prev=18,e.t0=e.catch(2),e.abrupt("return",b(e.t0));case 21:case"end":return e.stop()}}),e,null,[[2,18]])})));return function(t,n){return e.apply(this,arguments)}}()),y=function(){return function(){var e=(0,i.Z)(a().mark((function e(t,n){var r,i,l,s,f,v,m,b,y,k,w,P,C,O,S;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l=null===(r=n().sort)||void 0===r||null===(i=r.activeSortType)||void 0===i?void 0:i.genres,s=n().genres.onPage.url,f="genres_".concat(s,"-").concat(l),v=n().playlist.status[f],m=v.page,b=v.limit,t((0,g.MI)({playlist:f,status:{isLoading:!0,limit:b}})),e.next=8,d.Z.getGenresTracks(l,m+1,b,s);case 8:return y=e.sent,k=y.data,w=k.list,P=k.info,C=n(),O=C.playlist.trackIds,S=(0,u.Z)({},f,[].concat((0,o.Z)(O[f]),(0,o.Z)(w))),t((0,g.MI)({playlist:f,status:{page:k.page,pagesCount:k.pagesCount,isLoading:!1,limit:b}})),t((0,g.hx)(S)),t((0,p.LQ)()),t((0,g.As)(P)),t((0,g.K9)()),e.abrupt("return",h({},k));case 21:return e.prev=21,e.t0=e.catch(0),e.abrupt("return",(0,c.Z)(e.t0,"updateGenresTracks - action/genres.js"));case 24:case"end":return e.stop()}}),e,null,[[0,21]])})));return function(t,n){return e.apply(this,arguments)}}()},k=(0,s.hg)("genres/getSubgenres",function(){var e=(0,i.Z)(a().mark((function e(t,n){var r,o,u,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.url,o=n.rejectWithValue,e.prev=2,e.next=5,d.Z.getSubgenresApi(r);case 5:return u=e.sent,i=u.data.subgenres,e.abrupt("return",{data:i,url:r});case 10:return e.prev=10,e.t0=e.catch(2),e.abrupt("return",o(e.t0));case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t,n){return e.apply(this,arguments)}}()),w=(0,s.oM)({name:"genres",initialState:{onPage:{url:"all",name:"\u0412\u0441\u0435",about:"",trackLimit:10},genres:[],genresInfo:{},status:{succeeded:!1,pending:!1,failed:!1},error:null},reducers:{},extraReducers:function(e){e.addCase(m.fulfilled,(function(e){return h(h({},e),{},{status:{succeeded:!0,pending:!1,failed:!1},error:null})})).addCase(k.pending,(function(e,t){var n=t.meta.arg;e.genresInfo[n.url].loading=!0,e.error=null})).addCase(k.fulfilled,(function(e,t){var n=t.payload,r=t.meta.arg;e.genresInfo[r.url]=h(h({},e.genresInfo[r.url]),{},{loading:!1,subGenres:n.data}),e.error=null})).addCase(k.rejected,(function(e,t){var n,r=t.payload,a=t.meta.arg;e.genresInfo[a.url].loading=!1,e.error=null===r||void 0===r||null===(n=r.response)||void 0===n?void 0:n.data})).addCase(b.pending,(function(e){e.status={succeeded:!1,pending:!0,failed:!1},e.error=null})).addCase(b.fulfilled,(function(e,t){var n=t.payload;return h(h({},e),{},{onPage:h(h({},e.onPage),{},{name:null===n||void 0===n?void 0:n.title,url:null===n||void 0===n?void 0:n.url,parentUrl:null===n||void 0===n?void 0:n.parentUrl,title:null===n||void 0===n?void 0:n.title,about:null===n||void 0===n?void 0:n.about,imageJpg:null===n||void 0===n?void 0:n.imageJpg,imageWebp:null===n||void 0===n?void 0:n.imageWebp,trackLimit:null===n||void 0===n?void 0:n.trackLimit}),status:{succeeded:!0,pending:!1,failed:!1},error:null})})).addCase(b.rejected,(function(e,t){var n,r=t.payload;e.status={succeeded:!1,pending:!1,failed:!0},e.error=null===r||void 0===r||null===(n=r.response)||void 0===n?void 0:n.data}))}});t.ZP=w.reducer;var P=function(e){return e.genres.genres},C=function(e){var t;return null===(t=e.genres)||void 0===t?void 0:t.genresInfo},O=function(e){return function(t){var n;return null!==(n=t.genres.genresInfo[e])&&void 0!==n?n:{}}},S=function(e){return function(t){var n,r;return null===(n=t.genres)||void 0===n||null===(r=n.genresInfo[e])||void 0===r?void 0:r.loading}},T=function(e){return e.genres.onPage},I=function(e){var t,n;return{imageJpg:null===(t=e.genres.onPage)||void 0===t?void 0:t.imageJpg,imageWebp:null===e||void 0===e||null===(n=e.genres.onPage)||void 0===n?void 0:n.imageWebp}},j=function(e){var t;return null===(t=e.genres.onPage)||void 0===t?void 0:t.name},x=function(e){var t,n;return e.genres.onPage.parentUrl?null===e||void 0===e||null===(t=e.genres)||void 0===t||null===(n=t.genresInfo[e.genres.onPage.parentUrl])||void 0===n?void 0:n.title:""},M=function(e){return e.genres.genresInfo}},82557:function(e,t,n){"use strict";n.d(t,{Xu:function(){return f},KZ:function(){return m},h7:function(){return b},lU:function(){return y},Mr:function(){return k},kO:function(){return w},D:function(){return P},e:function(){return C},sH:function(){return O},Ut:function(){return S},Tw:function(){return T},Jl:function(){return I},B2:function(){return j},NY:function(){return x},xt:function(){return M},P_:function(){return Z},IH:function(){return R},HE:function(){return A},FK:function(){return G},u4:function(){return L},hh:function(){return _},Rf:function(){return D},HV:function(){return V},Kb:function(){return E},Wv:function(){return W},XF:function(){return U},N6:function(){return z},Gw:function(){return N},$0:function(){return Y},H6:function(){return q},cj:function(){return H},BY:function(){return J},GP:function(){return K},$C:function(){return B},AK:function(){return Q}});var r=n(67105),a=n(88742),o=n.n(a),u=n(40505),i=n(89631),c=n(80406),l=n(88467),s=n(15798),d=n(6735);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=(0,i.hg)("global/fetchCaptchaScore",function(){var e=(0,u.Z)(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.Z.getCaptchaScore(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),v=(0,i.oM)({name:"global",initialState:{adblock:!1,advRewardCounter:0,advShowTime:0,experiment:"",modal:{open:!1,type:"",data:"",params:{}},theme:"base",captcha:{captchaTimer:null,captchaTokenV2:null,captchaTokenV3:null,captchaScore:null,tryCount:null},isMobile:!0,isUserActive:!0,ogImage:{image:"//img.zaycev.net//static/97782/zayac.png",width:"1200",height:"630"},settings:{suggest:{searchResultSuggestCount:5,suggestRedirectUrl:"/suggest5/",enableSuggestsInSearch:!0},image:{cdn:"//img.zaycev.net",noImage:"/static/images/no_photo.jpg",noImageTrack:""},index:{musicset:{limit:3,extraLimit:3},popular:{limit:10,extraLimit:25},recommends:{limit:8}},new:{limit:50},musicset:{limit:10},artists:{limit:50},footer:{appList:[{link:"https://play.google.com/store/apps/details?id=free.zaycev.net&referrer=utm_source%3DSite%26utm_medium%3Dsite",id:"all.footer.google-play",clickYM:""},{link:"https://itunes.apple.com/us/app/zaycev.net-100-popularnyh/id1100155367?ls=1&mt=8",id:"all.footer.app-store",clickYM:""},{link:"https://www.windowsphone.com/ru-ru/store/app/znplayer-wp/41d65160-ced8-4e10-8db3-e54e2e64f220",id:"all.footer.windows-phone",clickYM:""}],linkList:[{link:"/mobile/switchFull",id:"all.footer.full-version",legacy:!0,clickYM:"",target:""}],supports:[{titleId:"all.footer.support",link:"mailto:admin@zaycev.net",target:"_blank",text:"admin@zaycev.net",clickYM:""}],socialList:[],extraLinks:[],PCLinks:[],PCAppLinks:[]}}},reducers:{setIsAdblockEnabled:function(e,t){e.adblock=t.payload},openModal:function(e,t){e.modal=g(g({},t.payload),{},{open:!0})},closeModal:function(e){e.modal={open:!1,type:null,data:null,params:null}},setCaptchaV2Token:function(e,t){e.captcha.captchaTokenV2=t.payload},setCaptchaV3Token:function(e,t){e.captcha.captchaTokenV3=t.payload},setCaptchaTryCount:function(e,t){e.captcha.tryCount=t.payload},setCaptchaTimer:function(e,t){e.captcha.captchaTimer=t.payload},setIsUserActive:function(e,t){e.isUserActive=t.payload},setGlobalTheme:function(e,t){l.Z[t.payload]?e.theme=t.payload:e.theme="base"},setGlobalIsMobile:function(e,t){e.isMobile=t.payload},setGlobalOgImage:function(e,t){e.ogImage=t.payload},setGlobalAdvRewardCounter:function(e,t){e.advRewardCounter=t.payload},incrementGlobalAdvRewardCounter:function(e){e.advRewardCounter+=1,e.advRewardCounter>=3&&!e.advShowTime&&(e.advRewardCounter=0),(0,s.setCookie)(null,"advRewardCounter","".concat(e.advRewardCounter),{maxAge:3600,path:"/"}),localStorage.getItem("shouldCheckRewardCookie")&&localStorage.removeItem("shouldCheckRewardCookie"),localStorage.setItem("shouldCheckRewardCookie","true")},setGlobalExperiment:function(e,t){e.experiment=t.payload},setGlobalAdvShowTime:function(e,t){e.advShowTime=t.payload},setGlobalAdvShowTimeWithEvent:function(e,t){e.advShowTime=t.payload,0===t.payload&&e.advRewardCounter>=3&&(e.advRewardCounter=0),(0,s.setCookie)(null,"advRewardShow","".concat(e.advShowTime),{maxAge:30,path:"/"}),localStorage.getItem("shouldCheckRewardTimeCookie")&&localStorage.removeItem("shouldCheckRewardTimeCookie"),localStorage.setItem("shouldCheckRewardTimeCookie","true")}},extraReducers:function(e){e.addCase(f.fulfilled,(function(e,t){e.captcha.captchaScore=t.payload})).addCase(f.rejected,(function(e){e.captcha.captchaScore=-1}))}});t.ZP=v.reducer;var h=v.actions,m=h.setIsUserActive,b=h.openModal,y=h.setIsAdblockEnabled,k=h.closeModal,w=h.setCaptchaV2Token,P=h.setCaptchaTimer,C=h.setCaptchaV3Token,O=h.setCaptchaTryCount,S=h.setGlobalTheme,T=h.setGlobalIsMobile,I=h.setGlobalOgImage,j=h.setGlobalAdvRewardCounter,x=h.incrementGlobalAdvRewardCounter,M=(h.setGlobalExperiment,h.setGlobalAdvShowTime),Z=h.setGlobalAdvShowTimeWithEvent,R=function(e){var t=e.id,n=e.blockType;return function(e,r){var a=r().playlist.info[t];e(b({type:"".concat(n,"-is-blocked"),data:"Type: ".concat(n,"; ID: ").concat(t,"; Track: ").concat(a.artistName," - ").concat(a.track)}))}},A=function(e){return e.global.isMobile},G=function(e){return e.global.adblock},L=function(e){return e.global.isUserActive},_=function(e){return e.global.captcha.captchaScore},D=function(e){return e.global.captcha.captchaTokenV2},V=function(e){return e.global.captcha.captchaTokenV3},E=function(e){return e.global.theme},W=function(e){return e.global.captcha.tryCount},U=function(e){return e.global.captcha.captchaTimer},z=function(e){return e.global.modal},N=function(e){return e.global.settings},Y=function(e){return e.global.settings.audiobooks.main},q=((0,c.P1)([U,D,W,V,_],(function(e,t,n,r,a){return{captchaTimer:e,captchaTokenV2:t,tryCount:n,captchaTokenV3:r,captchaScore:a}})),(0,c.P1)([function(e){return e.global.modal.open},function(e){return e.global.modal.type}],(function(e,t){return{open:e,type:t}}))),H=function(e){var t,n,r;return null===(t=e.global)||void 0===t||null===(n=t.settings)||void 0===n||null===(r=n.advSettings)||void 0===r?void 0:r.adfoxBiddersMap},J=function(e){var t,n,r;return null===(t=e.global)||void 0===t||null===(n=t.settings)||void 0===n||null===(r=n.advSettings)||void 0===r?void 0:r.advUnits},K=function(e){var t,n,r;return null===(t=e.global)||void 0===t||null===(n=t.settings)||void 0===n||null===(r=n.advSettings)||void 0===r?void 0:r.advBlocks},B=function(e){return e.global.ogImage},Q=function(e){return e.global.advRewardCounter>0&&e.global.advRewardCounter<3}},29511:function(e,t,n){"use strict";n.d(t,{Fq:function(){return p},zg:function(){return v},N$:function(){return h},Jc:function(){return m},SC:function(){return b},nx:function(){return y},kx:function(){return k},gI:function(){return w},js:function(){return P},sP:function(){return C},iT:function(){return O},_b:function(){return S},Pg:function(){return T},sg:function(){return I},Uq:function(){return j}});var r=n(67105),a=n(88742),o=n.n(a),u=n(40505),i=n(80406),c=n(89631),l=n(6735);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=(0,c.hg)("header/getSearchSuggest",function(){var e=(0,u.Z)(o().mark((function e(t,n){var r,a,u,i,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.value,a=t.count,u=n.rejectWithValue,e.prev=2,e.next=5,l.Z.getSearchSuggest(r,a);case 5:return i=e.sent,c=i.data,e.abrupt("return",c);case 10:return e.prev=10,e.t0=e.catch(2),e.abrupt("return",u(e.t0));case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t,n){return e.apply(this,arguments)}}()),g=(0,c.oM)({name:"header",initialState:{toggleMenu:!1,toggleSearchPanel:!1,search:{value:"",suggest:{visible:!1,data:[]},currentType:"all"}},reducers:{toggleMenu:function(e){e.toggleMenu=!e.toggleMenu},hideMenu:function(e){e.toggleMenu=!1},setSearchValue:function(e,t){e.search.value=t.payload},toggleSearchPanel:function(e){e.toggleSearchPanel=!e.toggleSearchPanel},openSearchPanel:function(e){e.toggleSearchPanel=!0},closeSearchPanel:function(e){e.toggleSearchPanel=!1},openSuggest:function(e){e.search.suggest.visible=!0},closeSuggest:function(e){e.search.suggest.visible=!1},clearSuggest:function(e){e.search.suggest={visible:!1,data:[]}},setSearchCurrentType:function(e,t){var n=t.payload;e.search.currentType=n}},extraReducers:function(e){e.addCase(p.fulfilled,(function(e,t){var n=t.payload;return n.length?d(d({},e),{},{search:d(d({},e.search),{},{suggest:{visible:!0,data:n}})}):d(d({},e),{},{search:d(d({},e.search),{},{suggest:{visible:!1,data:[]}})})})).addCase(p.rejected,(function(e){return d(d({},e),{},{search:d(d({},e.search),{},{suggest:d(d({},e.search.suggest),{},{visible:!1})})})}))}});t.ZP=g.reducer;var f=g.actions,v=f.clearSuggest,h=f.closeSearchPanel,m=f.closeSuggest,b=f.hideMenu,y=f.openSearchPanel,k=f.openSuggest,w=f.setSearchValue,P=f.toggleMenu,C=(f.toggleSearchPanel,f.setSearchCurrentType),O=function(e){return e.header.toggleMenu},S=function(e){return e.header.toggleSearchPanel},T=function(e){return e.header},I=(0,i.P1)([O,S],(function(e,t){return{menu:e,search:t}})),j=function(e){return e.header.search.currentType}},29860:function(e,t,n){"use strict";n.d(t,{ME:function(){return w},eh:function(){return P},zy:function(){return O}});var r=n(86420),a=n(88742),o=n.n(a),u=n(67105),i=n(98502),c=n(40505),l=n(80406),s=n(89631),d=n(6735),p=n(60229),g=n(92626),f=n(44751),v=n(87612),h=n(57231),m=n(60312),b=n(18419);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w=(0,s.hg)("indexPage/getIndexPage",function(){var e=(0,c.Z)(o().mark((function e(t,n){var r,a,c,l,s,p,m,y,w,P,C,O,S,T,I,j,x,M,Z,R,A,G,L,_,D,V;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.page,a=t.limitMusicset,c=t.musicsetsCategories,l=t.limitRecommended,s=t.limitPopular,p=t.limitNewTracks,m=t.limitArtist,y=t.limit,w=t.req,P=t.res,C=n.rejectWithValue,O=n.dispatch,e.prev=2,T=d.s.create(w,P),e.next=6,T.getIndexPage(r,a,c,l,s,p,m,y,"track","day");case 6:if(I=e.sent,j=I.data,O((0,h.H7)({page:"popular",activeType:"day"})),x=j.recommended,M=j.news,Z=j.popular,R=j.musicsets,A=j.newPlaylist,G=j.popularArtists,!R){e.next=14;break}return L=R.info,_=(0,i.Z)(R,["info"]),e.next=14,Object.keys(_).forEach((function(e){O((0,v.Q8)({onPage:_[e],info:L,url:e}))}));case 14:return D="popular-day",O((0,g.Si)({newsWidget:M})),O((0,f.hx)((S={recommended:null===x||void 0===x?void 0:x.trackIds},(0,u.Z)(S,D,null===Z||void 0===Z?void 0:Z.trackIds),(0,u.Z)(S,"newTracks",null===A||void 0===A?void 0:A.trackIds),S))),V=["recommended","newTracks",D],O((0,f.WY)([].concat(V))),Z&&O((0,f.MI)({playlist:D,status:{page:null===Z||void 0===Z?void 0:Z.page,pagesCount:null===Z||void 0===Z?void 0:Z.pagesCount,limit:s}})),A&&O((0,f.MI)({playlist:"newTracks",status:{page:null===A||void 0===A?void 0:A.page,pagesCount:null===A||void 0===A?void 0:A.pagesCount,limit:p}})),O((0,f.As)(k(k(k({},null===x||void 0===x?void 0:x.tracksInfo),null===A||void 0===A?void 0:A.tracksInfo),null===Z||void 0===Z?void 0:Z.tracksInfo))),G&&Object.keys(G).length>0&&O((0,b.tb)(k(k({},G),{},{currentArtist:"popular",limit:m}))),e.abrupt("return",j);case 26:return e.prev=26,e.t0=e.catch(2),e.abrupt("return",C(e.t0));case 29:case"end":return e.stop()}}),e,null,[[2,26]])})));return function(t,n){return e.apply(this,arguments)}}()),P=function(e){return function(){var t=(0,c.Z)(o().mark((function t(n,a){var u,i,c,l,s,g,v,h,b,y;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,u=a().playlist.status.newTracks,i=u.page,c=u.limit,l=u.pagesCount,!(i<l&&i<e)){t.next=17;break}return n((0,f.MI)({playlist:"newTracks",status:{isLoading:!0,limit:c}})),t.next=6,d.Z.getNewPage(i+1,c);case 6:return s=t.sent,g=s.data,v=g.trackIds,h=g.tracksInfo,b=a().playlist.trackIds.newTracks,y={newTracks:[].concat((0,r.Z)(b),(0,r.Z)(v))},n((0,f.hx)(y)),n((0,m.LQ)()),n((0,f.As)(h)),n((0,f.K9)()),n((0,f.MI)({playlist:"newTracks",status:{isLoading:!1,page:g.page}})),t.abrupt("return",g);case 17:t.next=22;break;case 19:t.prev=19,t.t0=t.catch(0),(0,p.Z)(t.t0,"updateNewPageTracks - action/new.js");case 22:case"end":return t.stop()}}),t,null,[[0,19]])})));return function(e,n){return t.apply(this,arguments)}}()},C=(0,s.oM)({name:"indexPage",initialState:{genres:null,siteText:[],status:{succeeded:!1,pending:!1,failed:!1},error:null},reducers:{},extraReducers:function(e){e.addCase(w.fulfilled,(function(e,t){var n=t.payload;return k(k({},e),{},{genres:n.mainGenres,siteText:n.siteText,status:{succeeded:!0,pending:!1,failed:!1},error:null})})).addCase(w.pending,(function(e){e.status={succeeded:!1,pending:!0,failed:!1},e.error=null})).addCase(w.rejected,(function(e,t){var n,r=t.payload;e.status={succeeded:!1,pending:!1,failed:!0},e.error=null===r||void 0===r||null===(n=r.response)||void 0===n?void 0:n.data}))}});t.ZP=C.reducer;(0,l.P1)([function(e){return e.index.genres}],(function(e){return{genres:e}}));var O=function(e){return e.index.siteText}}}]);